<div class="modal fade" id="settingsModal" tabindex="-1" role="dialog" aria-labelledby="settingsModalLabel"
     aria-hidden="true" data-backdrop="static">
  <div class="modal-dialog" role="form">
    <div class="modal-content">
      <div class="modal-header bg-inverse text-white">
        <h5 class="modal-title" id="settingsModalLabel">Account Settings</h5>
        <button type="reset" id="settingsClose" form="settingsForm" class="close" data-dismiss="modal" aria-label="Close">
          <i class="material-icons md-light">close</i>
        </button>
      </div>
      <div class="modal-body">
        <div class="progress hidden-xs-up my-2">
          <div class="progress-bar progress-bar-striped progress-bar-animateddd" role="progressbar"
            aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" style="width: 100%"></div>
          <br>
        </div>
        <h6 id="error-message" class="hidden-xs-up font-weight-bold bg-danger text-white" role="alert">
          <i class="material-icons align-middle">warning</i>An error occurred and we were unable to update your account.
        </h6>
        <form name="settings" id="settingsForm" method="post" action="settings">
          <div class="input-group my-4">
            <label for="userAccountType" class="input-group-addon">Account Type</label>
              <#if user??>
                <#if user.isManager()>
                  <input type="text" id="userAccountType" class="form-control" value="Manager" readonly disabled>
                <#else>
                  <input type="text" id="userAccountType" class="form-control" value="Employee" readonly disabled>
                </#if>
              </#if>
          </div>
          <div class="input-group my-4">
            <label for="userEmail" class="input-group-addon">Email Address</label>
            <input type="email" name="email" id="userEmail" class="form-control" value="${user.getEmail()}"
              placeholder="Email Address" maxlength="100" autocomplete="email" required pattern="^[\w@.]*$" title="You can only input letters, numbers, and underscores.">
          </div>
          <div class="form-group my-4">
            <div class="input-group mb-0">
              <label for="userPassword" class="input-group-addon">Change Password</label>
              <input type="password" name="password" id="userPassword" class="form-control" value=""
                placeholder="New Password" maxlength="100" minlength="8" pattern="^[\w]*$" title="You can only input letters, numbers, and underscores.">
            </div>
            <br>
            <div class="input-group mt-0">
              <label for="userConfirm" class="input-group-addon">Confirm Password</label>
              <input type="password" name="confirm" id="userConfirm" class="form-control" value=""
                placeholder="Confirm Password" maxlength="100" minlength="8" title="Password fields must match.">
            </div>
          </div>
          <div class="input-group my-4">
            <label for="userFirstname" class="input-group-addon">First name</label>
            <input type="text" name="firstname" id="userFirstname" class="form-control" value="${user.getFirstname()}"
              placeholder="First name" maxlength="100" autocomplete="given-name" required pattern="^[\w]*$" title="You can only input letters, numbers, and underscores.">
          </div>
          <div class="input-group my-4">
            <label for="userLastname" class="input-group-addon">Last name</label>
            <input type="text" name="lastname" id="userLastname" class="form-control" value="${user.getLastname()}"
              placeholder="Last name" maxlength="100" autocomplete="family-name" required pattern="^[\w]*$" title="You can only input letters, numbers, and underscores.">
          </div>
          <#if !user.isManager()>
            <div class="checkbox input-group">
              <label for="userEmailAlerts" class="input-group-addon align-middle mr-4">Email Alerts:&nbsp;</label>
              <#if user.isEmailAlertsOn()>
                <input type="checkbox" name="emailAlerts" id="userEmailAlerts" class="align-middle ml-4" value="true" data-toggle="toggle"
                  data-on="On" data-off="Off" checked>
              <#else>
                <input type="checkbox" name="emailAlerts" id="userEmailAlerts" class="align-middle ml-4" value="true" data-toggle="toggle"
                  data-on="On" data-off="Off">
              </#if>
            </div>
          </#if>
        </form>
      </div>
      <div class="modal-footer bg-inverse text-white">
        <button type="reset" id="settingsCancel" form="settingsForm" class="btn btn-secondary" data-dismiss="modal">
          Cancel
        </button>
        <button type="submit" id="settingsSubmit" form="settingsForm" class="btn btn-primary">
          Save changes
        </button>
      </div>
    </div>
  </div>
</div>